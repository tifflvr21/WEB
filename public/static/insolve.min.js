!function(){var e=function(e){var t;return function(n){return t||e(t={exports:{},parent:n},t.exports),t.exports}},t=e((function(e,t){var n=1e3,r=6e4,s=60*r,o=24*s;function i(e,t,n,r){var s=t>=1.5*n;return Math.round(e/n)+" "+r+(s?"s":"")}e.exports=function(e,t){t=t||{};var a,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*o;case"hours":case"hour":case"hrs":case"hr":case"h":return i*s;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===u&&isFinite(e))return t.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=s?i(a,c,s,"hour"):c>=r?i(a,c,r,"minute"):c>=n?i(a,c,n,"second"):a+" ms"):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=s?Math.round(e/s)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}})),n=e((function(e,t){(function(e){(function(){"use strict";t.Buffer=n,t.INSPECT_MAX_BYTES=50;function e(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=n.prototype,t}function n(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return o(e)}return r(e,t,n)}function r(t,r,s){if("string"==typeof t)return function(t,r){if("string"==typeof r&&""!==r||(r="utf8"),!n.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var s=0|c(t,r),o=e(s),i=o.write(t,r);return i!==s&&(o=o.slice(0,i)),o}(t,r);if(ArrayBuffer.isView(t))return i(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(x(t,ArrayBuffer)||t&&x(t.buffer,ArrayBuffer))return function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var s;return(s=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r)).__proto__=n.prototype,s}(t,r,s);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var o=t.valueOf&&t.valueOf();if(null!=o&&o!==t)return n.from(o,r,s);var u=function(t){if(n.isBuffer(t)){var r=0|a(t.length),s=e(r);return 0===s.length||t.copy(s,0,0,r),s}return void 0!==t.length?"number"!=typeof t.length||I(t.length)?e(0):i(t):"Buffer"===t.type&&Array.isArray(t.data)?i(t.data):void 0}(t);if(u)return u;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return n.from(t[Symbol.toPrimitive]("string"),r,s);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function o(t){return s(t),e(t<0?0:0|a(t))}function i(t){for(var n=t.length<0?0:0|a(t.length),r=e(n),s=0;s<n;s+=1)r[s]=255&t[s];return r}function a(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function c(e,t){if(n.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||x(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,s=arguments.length>2&&!0===arguments[2];if(!s&&0===r)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return O(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return R(e).length;default:if(o)return s?-1:O(e).length;t=(""+t).toLowerCase(),o=!0}}function u(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function h(e,t,r,s,o){if(0===e.length)return-1;if("string"==typeof r?(s=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),I(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=n.from(t,s)),n.isBuffer(t))return 0===t.length?-1:l(e,t,r,s,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):l(e,[t],r,s,o);throw new TypeError("val must be string, number or Buffer")}function l(e,t,n,r,s){var o,i=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;i=2,a/=2,c/=2,n/=2}function u(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(s){var h=-1;for(o=n;o<a;o++)if(u(e,o)===u(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===c)return h*i}else-1!==h&&(o-=o-h),h=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var l=!0,f=0;f<c;f++)if(u(e,o+f)!==u(t,f)){l=!1;break}if(l)return o}return-1}function f(e,t,n,r){n=Number(n)||0;var s=e.length-n;r?(r=Number(r))>s&&(r=s):r=s;var o=t.length;r>o/2&&(r=o/2);for(var i=0;i<r;++i){var a=parseInt(t.substr(2*i,2),16);if(I(a))return i;e[n+i]=a}return i}function p(e,t,n,r){return j(O(t,e.length-n),e,n,r)}function d(e,t,n,r){return j(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function g(e,t,n,r){return d(e,t,n,r)}function m(e,t,n,r){return j(R(t),e,n,r)}function y(e,t,n,r){return j(function(e,t){for(var n,r,s,o=[],i=0;i<e.length&&!((t-=2)<0);++i)r=(n=e.charCodeAt(i))>>8,s=n%256,o.push(s),o.push(r);return o}(t,e.length-n),e,n,r)}function w(e,t,n){return 0===t&&n===e.length?Le.fromByteArray(e):Le.fromByteArray(e.slice(t,n))}function b(e,t,n){n=Math.min(e.length,n);for(var r=[],s=t;s<n;){var o,i,a,c,u=e[s],h=null,l=u>239?4:u>223?3:u>191?2:1;if(s+l<=n)switch(l){case 1:u<128&&(h=u);break;case 2:128==(192&(o=e[s+1]))&&(c=(31&u)<<6|63&o)>127&&(h=c);break;case 3:o=e[s+1],i=e[s+2],128==(192&o)&&128==(192&i)&&(c=(15&u)<<12|(63&o)<<6|63&i)>2047&&(c<55296||c>57343)&&(h=c);break;case 4:o=e[s+1],i=e[s+2],a=e[s+3],128==(192&o)&&128==(192&i)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&i)<<6|63&a)>65535&&c<1114112&&(h=c)}null===h?(h=65533,l=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),s+=l}return function(e){var t=e.length;if(t<=v)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=v));return n}(r)}n.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}(),n.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),n.poolSize=8192,n.from=function(e,t,n){return r(e,t,n)},n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,n.alloc=function(t,n,r){return function(t,n,r){return s(t),t<=0?e(t):void 0!==n?"string"==typeof r?e(t).fill(n,r):e(t).fill(n):e(t)}(t,n,r)},n.allocUnsafe=function(e){return o(e)},n.allocUnsafeSlow=function(e){return o(e)},n.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==n.prototype},n.compare=function(e,t){if(x(e,Uint8Array)&&(e=n.from(e,e.offset,e.byteLength)),x(t,Uint8Array)&&(t=n.from(t,t.offset,t.byteLength)),!n.isBuffer(e)||!n.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,s=t.length,o=0,i=Math.min(r,s);o<i;++o)if(e[o]!==t[o]){r=e[o],s=t[o];break}return r<s?-1:s<r?1:0},n.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return n.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var s=n.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(x(i,Uint8Array)&&(i=n.from(i)),!n.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(s,o),o+=i.length}return s},n.byteLength=c,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)u(this,t,t+1);return this},n.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)u(this,t,t+3),u(this,t+1,t+2);return this},n.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)u(this,t,t+7),u(this,t+1,t+6),u(this,t+2,t+5),u(this,t+3,t+4);return this},n.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?b(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return _(this,t,n);case"utf8":case"utf-8":return b(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return w(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(e){if(!n.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===n.compare(this,e)},n.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},n.prototype.compare=function(e,t,r,s,o){if(x(e,Uint8Array)&&(e=n.from(e,e.offset,e.byteLength)),!n.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===s&&(s=0),void 0===o&&(o=this.length),t<0||r>e.length||s<0||o>this.length)throw new RangeError("out of range index");if(s>=o&&t>=r)return 0;if(s>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(s>>>=0),a=(r>>>=0)-(t>>>=0),c=Math.min(i,a),u=this.slice(s,o),h=e.slice(t,r),l=0;l<c;++l)if(u[l]!==h[l]){i=u[l],a=h[l];break}return i<a?-1:a<i?1:0},n.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},n.prototype.indexOf=function(e,t,n){return h(this,e,t,n,!0)},n.prototype.lastIndexOf=function(e,t,n){return h(this,e,t,n,!1)},n.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var s=this.length-t;if((void 0===n||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return f(this,e,t,n);case"utf8":case"utf-8":return p(this,e,t,n);case"ascii":return d(this,e,t,n);case"latin1":case"binary":return g(this,e,t,n);case"base64":return m(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var v=4096;function C(e,t,n){var r="";n=Math.min(e.length,n);for(var s=t;s<n;++s)r+=String.fromCharCode(127&e[s]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var s=t;s<n;++s)r+=String.fromCharCode(e[s]);return r}function _(e,t,n){var r,s=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>s)&&(n=s);for(var o="",i=t;i<n;++i)o+=(r=e[i])<16?"0"+r.toString(16):r.toString(16);return o}function E(e,t,n){for(var r=e.slice(t,n),s="",o=0;o<r.length;o+=2)s+=String.fromCharCode(r[o]+256*r[o+1]);return s}function A(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,r,s,o,i){if(!n.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+s>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r,s,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function T(e,t,n,r,s){return t=+t,n>>>=0,s||P(e,0,n,4),Ye.write(e,t,n,r,23,4),n+4}function S(e,t,n,r,s){return t=+t,n>>>=0,s||P(e,0,n,8),Ye.write(e,t,n,r,52,8),n+8}n.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var s=this.subarray(e,t);return s.__proto__=n.prototype,s},n.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e],s=1,o=0;++o<t&&(s*=256);)r+=this[e+o]*s;return r},n.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e+--t],s=1;t>0&&(s*=256);)r+=this[e+--t]*s;return r},n.prototype.readUInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),this[e]},n.prototype.readUInt16LE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]|this[e+1]<<8},n.prototype.readUInt16BE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]<<8|this[e+1]},n.prototype.readUInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},n.prototype.readUInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},n.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e],s=1,o=0;++o<t&&(s*=256);)r+=this[e+o]*s;return r>=(s*=128)&&(r-=Math.pow(2,8*t)),r},n.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=t,s=1,o=this[e+--r];r>0&&(s*=256);)o+=this[e+--r]*s;return o>=(s*=128)&&(o-=Math.pow(2,8*t)),o},n.prototype.readInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},n.prototype.readInt16LE=function(e,t){e>>>=0,t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},n.prototype.readInt16BE=function(e,t){e>>>=0,t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},n.prototype.readInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},n.prototype.readInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},n.prototype.readFloatLE=function(e,t){return e>>>=0,t||A(e,4,this.length),Ye.read(this,e,!0,23,4)},n.prototype.readFloatBE=function(e,t){return e>>>=0,t||A(e,4,this.length),Ye.read(this,e,!1,23,4)},n.prototype.readDoubleLE=function(e,t){return e>>>=0,t||A(e,8,this.length),Ye.read(this,e,!0,52,8)},n.prototype.readDoubleBE=function(e,t){return e>>>=0,t||A(e,8,this.length),Ye.read(this,e,!1,52,8)},n.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||F(this,e,t,n,Math.pow(2,8*n)-1,0);var s=1,o=0;for(this[t]=255&e;++o<n&&(s*=256);)this[t+o]=e/s&255;return t+n},n.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||F(this,e,t,n,Math.pow(2,8*n)-1,0);var s=n-1,o=1;for(this[t+s]=255&e;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+n},n.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,1,255,0),this[t]=255&e,t+1},n.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},n.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},n.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},n.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},n.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var s=Math.pow(2,8*n-1);F(this,e,t,n,s-1,-s)}var o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},n.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var s=Math.pow(2,8*n-1);F(this,e,t,n,s-1,-s)}var o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},n.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},n.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},n.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},n.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},n.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},n.prototype.writeFloatLE=function(e,t,n){return T(this,e,t,!0,n)},n.prototype.writeFloatBE=function(e,t,n){return T(this,e,t,!1,n)},n.prototype.writeDoubleLE=function(e,t,n){return S(this,e,t,!0,n)},n.prototype.writeDoubleBE=function(e,t,n){return S(this,e,t,!1,n)},n.prototype.copy=function(e,t,r,s){if(!n.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),s||0===s||(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<r&&(s=r),s===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-r&&(s=e.length-t+r);var o=s-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,s);else if(this===e&&r<t&&t<s)for(var i=o-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,s),t);return o},n.prototype.fill=function(e,t,r,s){if("string"==typeof e){if("string"==typeof t?(s=t,t=0,r=this.length):"string"==typeof r&&(s=r,r=this.length),void 0!==s&&"string"!=typeof s)throw new TypeError("encoding must be a string");if("string"==typeof s&&!n.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(1===e.length){var o=e.charCodeAt(0);("utf8"===s&&o<128||"latin1"===s)&&(e=o)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=n.isBuffer(e)?e:n.from(e,s),c=a.length;if(0===c)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%c]}return this};var B=/[^+/0-9A-Za-z-_]/g;function O(e,t){var n;t=t||1/0;for(var r=e.length,s=null,o=[],i=0;i<r;++i){if((n=e.charCodeAt(i))>55295&&n<57344){if(!s){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(i+1===r){(t-=3)>-1&&o.push(239,191,189);continue}s=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),s=n;continue}n=65536+(s-55296<<10|n-56320)}else s&&(t-=3)>-1&&o.push(239,191,189);if(s=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function R(e){return Le.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,n,r){for(var s=0;s<r&&!(s+n>=t.length||s>=e.length);++s)t[s+n]=e[s];return s}function x(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function I(e){return e!=e}}).call(this)}).call(this,n({}).Buffer)})),r=e((function(e,t){var n=1e3,r=6e4,s=60*r,o=24*s;function i(e,t,n,r){var s=t>=1.5*n;return Math.round(e/n)+" "+r+(s?"s":"")}e.exports=function(e,t){t=t||{};var a,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*o;case"hours":case"hour":case"hrs":case"hr":case"h":return i*s;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===u&&isFinite(e))return t.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=s?i(a,c,s,"hour"):c>=r?i(a,c,r,"minute"):c>=n?i(a,c,n,"second"):a+" ms"):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=s?Math.round(e/s)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}})),s=e((function(e,t){var n=1e3,r=6e4,s=60*r,o=24*s;function i(e,t,n,r){var s=t>=1.5*n;return Math.round(e/n)+" "+r+(s?"s":"")}e.exports=function(e,t){t=t||{};var a,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*o;case"hours":case"hour":case"hrs":case"hr":case"h":return i*s;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===u&&isFinite(e))return t.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=s?i(a,c,s,"hour"):c>=r?i(a,c,r,"minute"):c>=n?i(a,c,n,"second"):a+" ms"):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=s?Math.round(e/s)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}));var o=new class{constructor(){this.subs={}}on(e,t){this.subs[e]||(this.subs[e]=[]),this.subs[e].push(t)}off(e,t){if(!this.subs[e])return;const n=this.subs[e].indexOf(t);-1!==n&&this.subs[e].splice(n,1)}emit(e,t){if(this.subs[e])for(let n in this.subs[e])this.subs[e][n](t)}};var i,a,c,u=new class{constructor(){this.store=this.getLsSaved()}set(e,t){return e="_ins_"+e,this.store[e]=t,localStorage.setItem(e,"object"==typeof t?JSON.stringify(t):t),t}getLsSaved(){let e={};for(let n in localStorage)if("function"!=typeof localStorage[n]&&"length"!==n)try{e[n]=JSON.parse(localStorage[n])}catch(t){e[n]=localStorage[n]}return e}get(e){return e="_ins_"+e,this.store[e]}delete(e){e="_ins_"+e,localStorage.removeItem(e),delete this.store[e]}},h=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,l=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],f=function(e){var t,n,r=e,s=e.indexOf("["),o=e.indexOf("]");-1!=s&&-1!=o&&(e=e.substring(0,s)+e.substring(s,o).replace(/:/g,";")+e.substring(o,e.length));for(var i,a,c=h.exec(e||""),u={},f=14;f--;)u[l[f]]=c[f]||"";return-1!=s&&-1!=o&&(u.source=r,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=(t=u.path,n=t.replace(/\/{2,9}/g,"/").split("/"),"/"!=t.substr(0,1)&&0!==t.length||n.splice(0,1),"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1),n),u.queryKey=(i=u.query,a={},i.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(a[t]=n)})),a),u},p=i={};function d(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function m(e){if(a===setTimeout)return setTimeout(e,0);if((a===d||!a)&&setTimeout)return a=setTimeout,setTimeout(e,0);try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:d}catch(e){a=d}try{c="function"==typeof clearTimeout?clearTimeout:g}catch(e){c=g}}();var y,w=[],b=!1,v=-1;function C(){b&&y&&(b=!1,y.length?w=y.concat(w):v=-1,w.length&&k())}function k(){if(!b){var e=m(C);b=!0;for(var t=w.length;t;){for(y=w,w=[];++v<t;)y&&y[v].run();v=-1,t=w.length}y=null,b=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===g||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(e)}}function _(e,t){this.fun=e,this.array=t}function E(){}p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];w.push(new _(e,t)),1!==w.length||b||m(k)},_.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=E,p.addListener=E,p.once=E,p.off=E,p.removeListener=E,p.removeAllListeners=E,p.emit=E,p.prependListener=E,p.prependOnceListener=E,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0};var A={};(function(e){(function(){A.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+A.humanize(this.diff),!this.useColors)return;const t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(r=n))}),e.splice(r,0,t)},A.save=function(e){try{e?A.storage.setItem("debug",e):A.storage.removeItem("debug")}catch(t){}},A.load=function(){let t;try{t=A.storage.getItem("debug")}catch(n){}return!t&&void 0!==e&&"env"in e&&(t=e.env.DEBUG),t},A.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},A.storage=function(){try{return localStorage}catch(e){}}(),A.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),A.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],A.log=console.debug||console.log||(()=>{}),A=function(e){function t(e){let r,s,o,i=null;function a(...e){if(!a.enabled)return;const n=a,s=Number(new Date),o=s-(r||s);n.diff=o,n.prev=r,n.curr=s,r=s,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,s)=>{if("%%"===r)return"%";i++;const o=t.formatters[s];if("function"==typeof o){const t=e[i];r=o.call(n,t),e.splice(i,1),i--}return r}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(s!==t.namespaces&&(s=t.namespaces,o=t.enabled(e)),o),set:e=>{i=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=s({}),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}(A);const{formatters:t}=A;t.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this)}).call(this,i);var F={},P=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(F,"__esModule",{value:!0}),F.url=void 0;const T=P(f),S=P(A).default("socket.io-client:url");F.url=function(e,t="",n){let r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(S("protocol-less url %s",e),e=void 0!==n?n.protocol+"//"+e:"https://"+e),S("parse %s",e),r=T.default(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r};var B={};try{B="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(nn){B=!1}var O={};Object.defineProperty(O,"__esModule",{value:!0}),O.default="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();var R={},j=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(R,"__esModule",{value:!0});const x=j(B),I=j(O);R.default=function(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||x.default))return new XMLHttpRequest}catch(n){}if(!t)try{return new(I.default[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}};var M={};(function(e){(function(){M.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+M.humanize(this.diff),!this.useColors)return;const t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(r=n))}),e.splice(r,0,t)},M.save=function(e){try{e?M.storage.setItem("debug",e):M.storage.removeItem("debug")}catch(t){}},M.load=function(){let t;try{t=M.storage.getItem("debug")}catch(n){}return!t&&void 0!==e&&"env"in e&&(t=e.env.DEBUG),t},M.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},M.storage=function(){try{return localStorage}catch(e){}}(),M.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),M.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],M.log=console.debug||console.log||(()=>{}),M=function(e){function t(e){let r,s,o,i=null;function a(...e){if(!a.enabled)return;const n=a,s=Number(new Date),o=s-(r||s);n.diff=o,n.prev=r,n.curr=s,r=s,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,s)=>{if("%%"===r)return"%";i++;const o=t.formatters[s];if("function"==typeof o){const t=e[i];r=o.call(n,t),e.splice(i,1),i--}return r}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(s!==t.namespaces&&(s=t.namespaces,o=t.enabled(e)),o),set:e=>{i=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(s),...t.skips.map(s).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=r({}),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}(M);const{formatters:t}=M;t.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this)}).call(this,i);var L={},N=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(L,"__esModule",{value:!0}),L.installTimerFunctions=L.pick=void 0;const q=N(O);L.pick=function(e,...t){return t.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})};const U=setTimeout,D=clearTimeout;L.installTimerFunctions=function(e,t){t.useNativeTimers?(e.setTimeoutFn=U.bind(q.default),e.clearTimeoutFn=D.bind(q.default)):(e.setTimeoutFn=setTimeout.bind(q.default),e.clearTimeoutFn=clearTimeout.bind(q.default))};var V={};function W(e){if(e)return function(e){for(var t in W.prototype)e[t]=W.prototype[t];return e}(e)}V.Emitter=W,W.prototype.on=W.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},W.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},W.prototype.off=W.prototype.removeListener=W.prototype.removeAllListeners=W.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var s=0;s<r.length;s++)if((n=r[s])===t||n.fn===t){r.splice(s,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},W.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var s=(n=n.slice(0)).length;r<s;++r)n[r].apply(this,t)}return this},W.prototype.emitReserved=W.prototype.emit,W.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},W.prototype.hasListeners=function(e){return!!this.listeners(e).length};var $={};Object.defineProperty($,"__esModule",{value:!0}),$.ERROR_PACKET=$.PACKET_TYPES_REVERSE=$.PACKET_TYPES=void 0;const z=Object.create(null);$.PACKET_TYPES=z,z.open="0",z.close="1",z.ping="2",z.pong="3",z.message="4",z.upgrade="5",z.noop="6";const Y=Object.create(null);$.PACKET_TYPES_REVERSE=Y,Object.keys(z).forEach(e=>{Y[z[e]]=e}),$.ERROR_PACKET={type:"error",data:"parser error"};var K={};Object.defineProperty(K,"__esModule",{value:!0});const H="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),J="function"==typeof ArrayBuffer,G=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)};K.default=({type:e,data:t},n,r)=>{return H&&t instanceof Blob?n?r(t):G(t,r):J&&(t instanceof ArrayBuffer||(s=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer))?n?r(t):G(new Blob([t]),r):r($.PACKET_TYPES[e]+(t||""));var s};var X,Z,Q={exports:{}};X=this,Z=function(e){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="undefined"==typeof Uint8Array?[]:new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;e.decode=function(e){var t,r,s,o,i,a=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var h=new ArrayBuffer(a),l=new Uint8Array(h);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],s=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],i=n[e.charCodeAt(t+3)],l[u++]=r<<2|s>>4,l[u++]=(15&s)<<4|o>>2,l[u++]=(3&o)<<6|63&i;return h},Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof Q.exports?Z(Q.exports):"function"==typeof define&&define.amd?define(["exports"],Z):Z((X="undefined"!=typeof globalThis?globalThis:X||self)["base64-arraybuffer"]={}),Q=Q.exports;var ee={};Object.defineProperty(ee,"__esModule",{value:!0});const te="function"==typeof ArrayBuffer,ne=(e,t)=>{if(te){const n=(0,Q.decode)(e);return re(n,t)}return{base64:!0,data:e}},re=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}};ee.default=(e,t)=>{if("string"!=typeof e)return{type:"message",data:re(e,t)};const n=e.charAt(0);return"b"===n?{type:"message",data:ne(e.substring(1),t)}:$.PACKET_TYPES_REVERSE[n]?e.length>1?{type:$.PACKET_TYPES_REVERSE[n],data:e.substring(1)}:{type:$.PACKET_TYPES_REVERSE[n]}:$.ERROR_PACKET};var se={};Object.defineProperty(se,"__esModule",{value:!0}),se.decodePayload=se.decodePacket=se.encodePayload=se.encodePacket=se.protocol=void 0,se.encodePacket=K.default,se.decodePacket=ee.default;const oe=String.fromCharCode(30);se.encodePayload=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((e,o)=>{(0,K.default)(e,!1,e=>{r[o]=e,++s===n&&t(r.join(oe))})})},se.decodePayload=(e,t)=>{const n=e.split(oe),r=[];for(let s=0;s<n.length;s++){const e=(0,ee.default)(n[s],t);if(r.push(e),"error"===e.type)break}return r},se.protocol=4;var ie={},ae=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ie,"__esModule",{value:!0}),ie.Transport=void 0;const ce=(0,ae(M).default)("engine.io-client:transport");ie.Transport=class extends V.Emitter{constructor(e){super(),this.writable=!1,(0,L.installTimerFunctions)(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t){const n=new Error(e);return n.type="TransportError",n.description=t,super.emit("error",n),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState?this.write(e):ce("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(e){const t=(0,se.decodePacket)(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emit("packet",e)}onClose(){this.readyState="closed",super.emit("close")}};var ue,he,le="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),fe={},pe=0,de=0;function ge(e){var t="";do{t=le[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function me(){var e=ge(+new Date);return e!==he?(pe=0,he=e):e+"."+ge(pe++)}for(;de<64;de++)fe[le[de]]=de;me.encode=ge,me.decode=function(e){var t=0;for(de=0;de<e.length;de++)t=64*t+fe[e.charAt(de)];return t},ue=me;var ye={encode:function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},decode:function(e){for(var t={},n=e.split("&"),r=0,s=n.length;r<s;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},we={},be=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(we,"__esModule",{value:!0}),we.Polling=void 0;const ve=be(M),Ce=be(ue),ke=be(ye),_e=(0,ve.default)("engine.io-client:polling");we.Polling=class extends ie.Transport{constructor(){super(...arguments),this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{_e("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(_e("we are currently polling - waiting to pause"),e++,this.once("pollComplete",(function(){_e("pre-pause polling complete"),--e||t()}))),this.writable||(_e("we are currently writing - waiting to pause"),e++,this.once("drain",(function(){_e("pre-pause writing complete"),--e||t()})))}else t()}poll(){_e("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){_e("polling got data %s",e),(0,se.decodePayload)(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose(),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():_e('ignoring poll - transport state "%s"',this.readyState))}doClose(){const e=()=>{_e("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(_e("transport open - closing"),e()):(_e("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,(0,se.encodePayload)(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emit("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,Ce.default)()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const r=ke.default.encode(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}};var Ee={},Ae=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.XHR=void 0;const Fe=Ae(R),Pe=Ae(M),Te=Ae(O),Se=(0,Pe.default)("engine.io-client:polling-xhr");function Be(){}const Oe=null!=new Fe.default({xdomain:!1}).responseType;Ee.XHR=class extends we.Polling{constructor(e){if(super(e),"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=Oe&&!t}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Re(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",e=>{this.onError("xhr post error",e)})}doPoll(){Se("xhr poll");const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",e=>{this.onError("xhr poll error",e)}),this.pollXhr=e}};class Re extends V.Emitter{constructor(e,t){super(),(0,L.installTimerFunctions)(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=(0,L.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new Fe.default(e);try{Se("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(n){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}try{t.setRequestHeader("Accept","*/*")}catch(n){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof t.status?t.status:0)},0))},Se("xhr data %s",this.data),t.send(this.data)}catch(n){return void this.setTimeoutFn(()=>{this.onError(n)},0)}"undefined"!=typeof document&&(this.index=Re.requestsCount++,Re.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Be,e)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete Re.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&this.onData(e)}abort(){this.cleanup()}}if(Re.requestsCount=0,Re.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",je);else if("function"==typeof addEventListener){const e="onpagehide"in Te.default?"pagehide":"unload";addEventListener(e,je,!1)}function je(){for(let e in Re.requests)Re.requests.hasOwnProperty(e)&&Re.requests[e].abort()}var xe={},Ie=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xe,"__esModule",{value:!0}),xe.defaultBinaryType=xe.usingBrowserWebSocket=xe.WebSocket=xe.nextTick=void 0;const Me=Ie(O);xe.nextTick="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),xe.WebSocket=Me.default.WebSocket||Me.default.MozWebSocket,xe.usingBrowserWebSocket=!0,xe.defaultBinaryType="arraybuffer";for(var Le={toByteArray:function(e){var t,n,r=$e(e),s=r[0],o=r[1],i=new Ue(function(e,t,n){return 3*(t+n)/4-n}(0,s,o)),a=0,c=o>0?s-4:s;for(n=0;n<c;n+=4)t=qe[e.charCodeAt(n)]<<18|qe[e.charCodeAt(n+1)]<<12|qe[e.charCodeAt(n+2)]<<6|qe[e.charCodeAt(n+3)],i[a++]=t>>16&255,i[a++]=t>>8&255,i[a++]=255&t;return 2===o&&(t=qe[e.charCodeAt(n)]<<2|qe[e.charCodeAt(n+1)]>>4,i[a++]=255&t),1===o&&(t=qe[e.charCodeAt(n)]<<10|qe[e.charCodeAt(n+1)]<<4|qe[e.charCodeAt(n+2)]>>2,i[a++]=t>>8&255,i[a++]=255&t),i},fromByteArray:function(e){for(var t,n=e.length,r=n%3,s=[],o=0,i=n-r;o<i;o+=16383)s.push(ze(e,o,o+16383>i?i:o+16383));return 1===r?(t=e[n-1],s.push(Ne[t>>2]+Ne[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],s.push(Ne[t>>10]+Ne[t>>4&63]+Ne[t<<2&63]+"=")),s.join("")}},Ne=[],qe=[],Ue="undefined"!=typeof Uint8Array?Uint8Array:Array,De="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve=0,We=De.length;Ve<We;++Ve)Ne[Ve]=De[Ve],qe[De.charCodeAt(Ve)]=Ve;function $e(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function ze(e,t,n){for(var r,s,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(Ne[(s=r)>>18&63]+Ne[s>>12&63]+Ne[s>>6&63]+Ne[63&s]);return o.join("")}qe["-".charCodeAt(0)]=62,qe["_".charCodeAt(0)]=63;var Ye={read:function(e,t,n,r,s){var o,i,a=8*s-r-1,c=(1<<a)-1,u=c>>1,h=-7,l=n?s-1:0,f=n?-1:1,p=e[t+l];for(l+=f,o=p&(1<<-h)-1,p>>=-h,h+=a;h>0;o=256*o+e[t+l],l+=f,h-=8);for(i=o&(1<<-h)-1,o>>=-h,h+=r;h>0;i=256*i+e[t+l],l+=f,h-=8);if(0===o)o=1-u;else{if(o===c)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,r),o-=u}return(p?-1:1)*i*Math.pow(2,o-r)},write:function(e,t,n,r,s,o){var i,a,c,u=8*o-s-1,h=(1<<u)-1,l=h>>1,f=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,i=h):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),(t+=i+l>=1?f/c:f*Math.pow(2,1-l))*c>=2&&(i++,c/=2),i+l>=h?(a=0,i=h):i+l>=1?(a=(t*c-1)*Math.pow(2,s),i+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,s),i=0));s>=8;e[n+p]=255&a,p+=d,a/=256,s-=8);for(i=i<<s|a,u+=s;u>0;e[n+p]=255&i,p+=d,i/=256,u-=8);e[n+p-d]|=128*g}},Ke={};(function(e){(function(){"use strict";var t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.WS=void 0;const n=t(ye),r=t(ue),s=(0,t(M).default)("engine.io-client:websocket"),o="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class i extends ie.Transport{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=o?{}:(0,L.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=xe.usingBrowserWebSocket&&!o?t?new xe.WebSocket(e,t):new xe.WebSocket(e):new xe.WebSocket(e,t,n)}catch(nn){return this.emit("error",nn)}this.ws.binaryType=this.socket.binaryType||xe.defaultBinaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],o=n===t.length-1;(0,se.encodePacket)(r,this.supportsBinary,t=>{const n={};!xe.usingBrowserWebSocket&&(r.options&&(n.compress=r.options.compress),this.opts.perMessageDeflate)&&("string"==typeof t?e.byteLength(t):t.length)<this.opts.perMessageDeflate.threshold&&(n.compress=!1);try{xe.usingBrowserWebSocket?this.ws.send(t):this.ws.send(t,n)}catch(i){s("websocket closed before onclose event")}o&&(0,xe.nextTick)(()=>{this.writable=!0,this.emit("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let s="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(s=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,r.default)()),this.supportsBinary||(e.b64=1);const o=n.default.encode(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(o.length?"?"+o:"")}check(){return!(!xe.WebSocket||"__initialize"in xe.WebSocket&&this.name===i.prototype.name)}}Ke.WS=i}).call(this)}).call(this,n({}).Buffer);var He={};Object.defineProperty(He,"__esModule",{value:!0}),He.transports=void 0,He.transports={websocket:Ke.WS,polling:Ee.XHR};var Je={},Ge=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Je,"__esModule",{value:!0}),Je.Socket=void 0;const Xe=Ge(ye),Ze=Ge(f),Qe=(0,Ge(M).default)("engine.io-client:socket");class et extends V.Emitter{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=(0,Ze.default)(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=(0,Ze.default)(t.host).host),(0,L.installTimerFunctions)(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=Xe.default.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){Qe('creating transport "%s"',e);const t=function(e){const t={};for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.opts.query);t.EIO=se.protocol,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return Qe("options: %j",n),new He.transports[e](n)}open(){let e;if(this.opts.rememberUpgrade&&et.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(t){return Qe("error while creating transport: %s",t),this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){Qe("setting transport %s",e.name),this.transport&&(Qe("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(e){Qe('probing transport "%s"',e);let t=this.createTransport(e),n=!1;et.priorWebsocketSuccess=!1;const r=()=>{n||(Qe('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",r=>{if(!n)if("pong"===r.type&&"probe"===r.data){if(Qe('probe transport "%s" pong',e),this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;et.priorWebsocketSuccess="websocket"===t.name,Qe('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{n||"closed"!==this.readyState&&(Qe("changing transport and sending upgrade packet"),u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{Qe('probe transport "%s" failed',e);const n=new Error("probe error");n.transport=t.name,this.emitReserved("upgradeError",n)}}))};function s(){n||(n=!0,u(),t.close(),t=null)}const o=n=>{const r=new Error("probe error: "+n);r.transport=t.name,s(),Qe('probe transport "%s" failed because of error: %s',e,n),this.emitReserved("upgradeError",r)};function i(){o("transport closed")}function a(){o("socket closed")}function c(e){t&&e.name!==t.name&&(Qe('"%s" works - aborting "%s"',e.name,t.name),s())}const u=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",i),this.off("close",a),this.off("upgrading",c)};t.once("open",r),t.once("error",o),t.once("close",i),this.once("close",a),this.once("upgrading",c),t.open()}onOpen(){if(Qe("socket open"),this.readyState="open",et.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){Qe("starting upgrade probes");let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(Qe('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}else Qe('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Qe("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const s={type:e,data:t,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),Qe("socket closing - telling transport to close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){Qe("socket error %j",e),et.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(Qe('socket close with reason: "%s"',e),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}Je.Socket=et,et.protocol=se.protocol;var tt={};Object.defineProperty(tt,"__esModule",{value:!0}),tt.installTimerFunctions=tt.Socket=void 0,Object.defineProperty(tt,"Socket",{enumerable:!0,get:function(){return Je.Socket}}),Je.Socket.protocol,Object.defineProperty(tt,"Transport",{enumerable:!0,get:function(){return ie.Transport}}),Object.defineProperty(tt,"transports",{enumerable:!0,get:function(){return He.transports}}),Object.defineProperty(tt,"installTimerFunctions",{enumerable:!0,get:function(){return L.installTimerFunctions}});var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),nt.hasBinary=nt.isBinary=void 0;const rt="function"==typeof ArrayBuffer,st=Object.prototype.toString,ot="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===st.call(Blob),it="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===st.call(File);function at(e){return rt&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||ot&&e instanceof Blob||it&&e instanceof File}nt.isBinary=at,nt.hasBinary=function e(t,n){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(e(t[n]))return!0;return!1}if(at(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return!0;return!1};var ct={};Object.defineProperty(ct,"__esModule",{value:!0}),ct.reconstructPacket=ct.deconstructPacket=void 0,ct.deconstructPacket=function(e){const t=[],n=e.data,r=e;return r.data=function e(t,n){if(!t)return t;if(nt.isBinary(t)){const e={_placeholder:!0,num:n.length};return n.push(t),e}if(Array.isArray(t)){const r=new Array(t.length);for(let s=0;s<t.length;s++)r[s]=e(t[s],n);return r}if("object"==typeof t&&!(t instanceof Date)){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e(t[s],n));return r}return t}(n,t),r.attachments=t.length,{packet:r,buffers:t}},ct.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=e(t[r],n);else if("object"==typeof t)for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=e(t[r],n));return t}(e.data,t),e.attachments=void 0,e};var ut={};(function(e){(function(){ut.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+ut.humanize(this.diff),!this.useColors)return;const t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(r=n))}),e.splice(r,0,t)},ut.save=function(e){try{e?ut.storage.setItem("debug",e):ut.storage.removeItem("debug")}catch(t){}},ut.load=function(){let t;try{t=ut.storage.getItem("debug")}catch(n){}return!t&&void 0!==e&&"env"in e&&(t=e.env.DEBUG),t},ut.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},ut.storage=function(){try{return localStorage}catch(e){}}(),ut.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),ut.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],ut.log=console.debug||console.log||(()=>{}),ut=function(e){function n(e){let t,s,o,i=null;function a(...e){if(!a.enabled)return;const r=a,s=Number(new Date),o=s-(t||s);r.diff=o,r.prev=t,r.curr=s,t=s,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,s)=>{if("%%"===t)return"%";i++;const o=n.formatters[s];if("function"==typeof o){const n=e[i];t=o.call(r,n),e.splice(i,1),i--}return t}),n.formatArgs.call(r,e),(r.log||n.log).apply(r,e)}return a.namespace=e,a.useColors=n.useColors(),a.color=n.selectColor(e),a.extend=r,a.destroy=n.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(s!==n.namespaces&&(s=n.namespaces,o=n.enabled(e)),o),set:e=>{i=e}}),"function"==typeof n.init&&n.init(a),a}function r(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){const e=[...n.names.map(s),...n.skips.map(s).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.namespaces=e,n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(t=0;t<s;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=t({}),n.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(t=>{n[t]=e[t]}),n.names=[],n.skips=[],n.formatters={},n.selectColor=function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return n.colors[Math.abs(t)%n.colors.length]},n.enable(n.load()),n}(ut);const{formatters:n}=ut;n.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this)}).call(this,i);var ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.Decoder=ht.Encoder=ht.PacketType=ht.protocol=void 0;const lt=ut.default("socket.io-parser");var ft;ht.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(ft=ht.PacketType||(ht.PacketType={})),ht.Encoder=class{encode(e){return lt("encoding packet %j",e),e.type!==ft.EVENT&&e.type!==ft.ACK||!nt.hasBinary(e)?[this.encodeAsString(e)]:(e.type=e.type===ft.EVENT?ft.BINARY_EVENT:ft.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return e.type!==ft.BINARY_EVENT&&e.type!==ft.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),lt("encoded %j as %s",e,t),t}encodeAsBinary(e){const t=ct.deconstructPacket(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}};class pt extends V.Emitter{constructor(){super()}add(e){let t;if("string"==typeof e)(t=this.decodeString(e)).type===ft.BINARY_EVENT||t.type===ft.BINARY_ACK?(this.reconstructor=new dt(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t);else{if(!nt.isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===ft[n.type])throw new Error("unknown packet type "+n.type);if(n.type===ft.BINARY_EVENT||n.type===ft.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const s=e.substring(r,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(s)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(t));if(!pt.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return lt("decoded %s as %j",e,n),n}static isPayloadValid(e,t){switch(e){case ft.CONNECT:return"object"==typeof t;case ft.DISCONNECT:return void 0===t;case ft.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case ft.EVENT:case ft.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case ft.ACK:case ft.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}ht.Decoder=pt;class dt{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=ct.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var gt={};Object.defineProperty(gt,"__esModule",{value:!0}),gt.on=void 0,gt.on=function(e,t,n){return e.on(t,n),function(){e.off(t,n)}};var mt={},yt=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mt,"__esModule",{value:!0}),mt.Socket=void 0;const wt=yt(A).default("socket.io-client:socket"),bt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});mt.Socket=class extends V.Emitter{constructor(e,t,n){super(),this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const e=this.io;this.subs=[gt.on(e,"open",this.onopen.bind(this)),gt.on(e,"packet",this.onpacket.bind(this)),gt.on(e,"error",this.onerror.bind(this)),gt.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(bt.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const n={type:ht.PacketType.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++;wt("emitting packet with ack id %d",e);const r=t.pop();this._registerAckCallback(e,r),n.id=e}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return!this.flags.volatile||r&&this.connected?this.connected?this.packet(n):this.sendBuffer.push(n):wt("discard packet as the transport is not currently writable"),this.flags={},this}_registerAckCallback(e,t){const n=this.flags.timeout;if(void 0===n)return void(this.acks[e]=t);const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&(wt("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(t,1));wt("event with ack id %d has timed out after %d ms",e,n),t.call(this,new Error("operation has timed out"))},n);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(r),t.apply(this,[null,...e])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){wt("transport is open - connecting"),"function"==typeof this.auth?this.auth(e=>{this.packet({type:ht.PacketType.CONNECT,data:e})}):this.packet({type:ht.PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e){wt("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ht.PacketType.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ht.PacketType.EVENT:case ht.PacketType.BINARY_EVENT:this.onevent(e);break;case ht.PacketType.ACK:case ht.PacketType.BINARY_ACK:this.onack(e);break;case ht.PacketType.DISCONNECT:this.ondisconnect();break;case ht.PacketType.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];wt("emitting event %j",t),null!=e.id&&(wt("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,wt("sending ack %j",r),t.packet({type:ht.PacketType.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t?(wt("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):wt("bad ack %s",e.id)}onconnect(e){wt("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>this.packet(e)),this.sendBuffer=[]}ondisconnect(){wt("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(wt("performing disconnect (%s)",this.nsp),this.packet({type:ht.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}};var vt;function Ct(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}vt=Ct,Ct.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Ct.prototype.reset=function(){this.attempts=0},Ct.prototype.setMin=function(e){this.ms=e},Ct.prototype.setMax=function(e){this.max=e},Ct.prototype.setJitter=function(e){this.jitter=e};var kt={},_t=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),Et=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),At=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&_t(t,e,n);return Et(t,e),t},Ft=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kt,"__esModule",{value:!0}),kt.Manager=void 0;const Pt=At(ht),Tt=Ft(vt),St=Ft(A).default("socket.io-client:manager");kt.Manager=class extends V.Emitter{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,tt.installTimerFunctions(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Tt.default({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||Pt;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(St("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;St("opening %s",this.uri),this.engine=new tt.Socket(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=gt.on(t,"open",(function(){n.onopen(),e&&e()})),s=gt.on(t,"error",t=>{St("error"),n.cleanup(),n._readyState="closed",this.emitReserved("error",t),e?e(t):n.maybeReconnectOnOpen()});if(!1!==this._timeout){const e=this._timeout;St("connect attempt will timeout after %d",e),0===e&&r();const n=this.setTimeoutFn(()=>{St("connect attempt timed out after %d",e),r(),t.close(),t.emit("error",new Error("timeout"))},e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){St("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(gt.on(e,"ping",this.onping.bind(this)),gt.on(e,"data",this.ondata.bind(this)),gt.on(e,"error",this.onerror.bind(this)),gt.on(e,"close",this.onclose.bind(this)),gt.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){St("error",e),this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n||(n=new mt.Socket(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return void St("socket %s is still active, skipping close",n);this._close()}_packet(e){St("writing packet %j",e);const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){St("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){St("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){St("closed due to %s",e),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)St("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();St("will wait %dms before reconnect attempt",t),this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(St("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(St("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):(St("reconnect success"),e.onreconnect())}))},t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var Bt={},Ot=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.default=Bt.connect=Bt.io=Bt.Socket=Bt.Manager=Bt.protocol=void 0,Object.defineProperty(Bt,"Manager",{enumerable:!0,get:function(){return kt.Manager}}),Object.defineProperty(Bt,"Socket",{enumerable:!0,get:function(){return mt.Socket}});const Rt=Ot(A).default("socket.io-client"),jt={};function xt(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};const n=F.url(e,t.path||"/socket.io"),r=n.source,s=n.id,o=n.path,i=jt[s]&&o in jt[s].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?(Rt("ignoring socket cache for %s",r),a=new kt.Manager(r,t)):(jt[s]||(Rt("new io instance for %s",r),jt[s]=new kt.Manager(r,t)),a=jt[s]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Bt.io=xt,Bt.connect=xt,Bt.default=xt,Object.assign(xt,{Manager:kt.Manager,Socket:mt.Socket,io:xt,connect:xt}),Object.defineProperty(Bt,"protocol",{enumerable:!0,get:function(){return ht.protocol}}),Bt=xt;let It=!1;try{It=-1==window.location.host.indexOf("localhost:3000")}catch(rn){}var Mt=It?{url:"https://tf2double.com",port:443,appid:252490}:{url:"http://localhost:3001",port:3182,appid:252490};class Lt{constructor(){this.connected=!1,this.socket=Bt(Mt.url),this.socket.on("connect",()=>{this.connected=!0,o.emit("io:connected"),this.emit("handshake",u.get("token"))}),this.socket.on("connect_error",()=>{this.connected=!1,o.emit("io:connect_error")}),this.socket.on("handshake_complete",()=>{const e=u.get("lastJoinedRoom");this.construct("chat:joinRoom",e||0)}),this.socket.on("user",e=>this.deconstruct("user",e)),this.socket.on("chat",e=>this.deconstruct("chat",e)),this.socket.on("generic",e=>this.deconstruct("generic",e)),this.socket.on("roulette",e=>this.deconstruct("roulette",e)),this.socket.on("tf2_jackpot",e=>this.deconstruct("tf2_jackpot",e)),this.socket.on("tf2_coinflip",e=>this.deconstruct("tf2_coinflip",e)),this.socket.on("tf2_mines",e=>this.deconstruct("tf2_mines",e)),this.socket.on("transactions",e=>this.deconstruct("transactions",e)),this.socket.on("jackpot-win",e=>o.emit("jackpot-win",e)),this.socket.on("coinflip-win",e=>o.emit("coinflip-win",e)),this.socket.on("mines-win",e=>o.emit("mines-win",e))}construct(e,t){const n=e.split(":");if(!(r=t)||Array.isArray(r)||"object"!=typeof r){const e=t;(t={})[n[1]]=e}var r;t.action=n[1],t.token=u.get("token"),this.socket.emit(n[0],t)}deconstruct(e,t={}){const n=t.action;2==Object.keys(t).length&&void 0!==t[n]&&(t=t[n]),o.emit(`${e}:${n}`,t)}getStatus(){return this.connected}emit(e,t){this.socket.emit(e,t)}}class Nt{constructor(){this.connected=!1,this.socket=Bt(Mt.url),this.socket.on("connect",()=>{this.connected=!0,o.emit("io:connected"),this.emit("handshake",u.get("token"))}),this.socket.on("connect_error",()=>{this.connected=!1,o.emit("io:connect_error")}),this.socket.on("handshake_complete",()=>{const e=u.get("lastJoinedRoom");this.construct("chat:joinRoom",e||0)}),this.socket.on("user",e=>this.deconstruct("user",e)),this.socket.on("chat",e=>this.deconstruct("chat",e)),this.socket.on("generic",e=>this.deconstruct("generic",e)),this.socket.on("roulette",e=>this.deconstruct("roulette",e)),this.socket.on("tf2_jackpot",e=>this.deconstruct("tf2_jackpot",e)),this.socket.on("tf2_coinflip",e=>this.deconstruct("tf2_coinflip",e)),this.socket.on("tf2_mines",e=>this.deconstruct("tf2_mines",e)),this.socket.on("transactions",e=>this.deconstruct("transactions",e)),this.socket.on("jackpot-win",e=>o.emit("jackpot-win",e)),this.socket.on("coinflip-win",e=>o.emit("coinflip-win",e)),this.socket.on("mines-win",e=>o.emit("mines-win",e))}construct(e,t){const n=e.split(":");if(!(r=t)||Array.isArray(r)||"object"!=typeof r){const e=t;(t={})[n[1]]=e}var r;t.action=n[1],t.token=u.get("token"),this.socket.emit(n[0],t)}deconstruct(e,t={}){const n=t.action;2==Object.keys(t).length&&void 0!==t[n]&&(t=t[n]),o.emit(`${e}:${n}`,t)}getStatus(){return this.connected}emit(e,t){this.socket.emit(e,t)}}var qt=()=>(window.insolve.io||(window.insolve.io=new Nt),window.insolve.io);const Ut={now:()=>Math.round((new Date).getTime()/1e3),requestAPI:(e,t={},n={})=>new Promise(async(r,s)=>{const o=`${Mt.url}${e}`;if(n.cache){const t=u.get("_cache_"+e);if(t){const s=parseInt(u.get(`_cache_${e}_time`)),o=Ut.now();if(!(Math.round((o-s)/60)>=parseInt(n.cacheLife)))return r(t);u.delete("_cache_"+e)}}t.token=u.get("token");try{const s=await fetch(o,{method:n.method||"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:"GET"==n.method?void 0:JSON.stringify(t)}),i=await s.json();n.cache&&(u.set("_cache_"+e,i),u.set(`_cache_${e}_time`,Ut.now())),r(i)}catch(rn){s(rn)}}),formatBalance:e=>isNaN(e)?"0.00":parseFloat(e).toFixed(2),popupCenter:({url:e,title:t,w:n,h:r})=>{const s=void 0!==window.screenLeft?window.screenLeft:window.screenX,o=void 0!==window.screenTop?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,c=i/window.screen.availWidth,u=(i-n)/2/c+s,h=(a-r)/2/c+o,l=window.open(e,t,`\n      scrollbars=yes,\n      width=${n/c}, \n      height=${r/c}, \n      top=${h}, \n      left=${u}\n      `);return window.focus&&l.focus(),l},sum:(e,t)=>e.reduce((e,n)=>+e+ +n[t],0)};var Dt=Ut;const Vt=qt();var Wt={signIn:()=>{Dt.popupCenter({url:Mt.url+"/auth/steam",title:"Sign in",w:800,h:660})},signOut:(e=!1)=>{u.delete("user",!0),u.delete("token",!0),o.emit("login",void 0),e&&window.location.reload()},_getConfig:()=>Mt,get:e=>{const t=u.get("user")||{};return e?t[e]:t},signInWithSavedInfo:async(e,t)=>{o.on("user:updateValue-balance",e=>{u.set("user",{...u.get("user"),balance:e})}),o.on("user:updateValue-xp",e=>{u.set("user",{...u.get("user"),xp:e})}),o.on("user:updateValue-rank",e=>{u.set("user",{...u.get("user"),rank:e})}),o.on("user:updateValue-banned",e=>{u.set("user",{...u.get("user"),banned:e})}),o.on("user:updateValue-ban_reason",e=>{u.set("user",{...u.get("user"),ban_reason:e})}),o.on("user:updateValue-ban_expires_at_readable",e=>{u.set("user",{...u.get("user"),ban_expires_at_readable:e})}),o.on("user:updateValue-ban_length",e=>{u.set("user",{...u.get("user"),ban_length:e})}),o.on("user:updateValue-tradelink",e=>{u.set("user",{...u.get("user"),tradelink:e})});const n=u.get("user"),r=u.get("token")||e;if(Vt.emit("handshake",r),console.log("user",n),console.log("token",r),console.log("_token",e),!n&&!r&&!e)return;console.log("go ahead"),n&&o.emit("login",n);const s=await Dt.requestAPI("/user/data/"+r);s.user?(u.set("user",s.user),u.set("betaKeys",s.betaKeys),u.set("token",r),o.emit("login",s.user),n&&!!n.banned!=!!s.user.banned&&o.emit("user:updateValue-banned",!!s.user.banned),o.emit("user:updateValue-tradelink",s.user.tradelink),t&&"function"==typeof t&&t()):e&&t&&"function"==typeof t&&t()},loadSteamInventory:(e=730)=>new Promise(async(t,n)=>{const r=await Dt.requestAPI("/user/loadSteamInventory/"+e);r.inv?t(r.inv):n(r.msg)}),requestDeposit:(e=730,t=[],n)=>new Promise(async(r,s)=>{const o=await Dt.requestAPI("/user/requestDeposit/"+e,{items:t,data:n});o.id?r(o):s(o.msg)}),requestWithdraw:(e=730,t={})=>new Promise(async(n,r)=>{const s=await Dt.requestAPI("/user/requestWithdraw/"+e,t);s.id?n(s):r(s.msg)}),updateTradelink:e=>new Promise(async(t,n)=>{const r=await Dt.requestAPI("/user/updateTradelink",{link:e});r.success?(u.set("user",{...u.get("user"),tradelink:e}),t()):n(r.msg)}),getTransactions:e=>new Promise(async(e,t)=>{const n=await Dt.requestAPI("/user/getTransactions");n.success?e(n):t(n.msg)}),getStats:()=>new Promise(async(e,t)=>{const n=await Dt.requestAPI("/user/stats");n.success?e(n):t(n.msg)}),getAdminStats:(e=0)=>new Promise(async(t,n)=>{t(await Dt.requestAPI("/admin/stats/"+e))}),getAdminUsers:e=>new Promise(async(t,n)=>{t(await Dt.requestAPI("/admin/users",e))}),clearAdminLogs:()=>new Promise(async(e,t)=>{e(await Dt.requestAPI("/admin/clearLogs"))}),getAdminPrices:e=>new Promise(async(t,n)=>{t(await Dt.requestAPI(e?"/admin/getPricesReview":"/admin/getPrices"))}),withdrawAdminRake:e=>new Promise(async(t,n)=>{try{t(await Dt.requestAPI("/rake/withdraw",{bot:e}))}catch(rn){n(rn)}}),getAdminRake:()=>new Promise(async(e,t)=>{try{e(await Dt.requestAPI("/rake/info"))}catch(rn){t(rn)}}),loadLeaderboardWinners:e=>new Promise(async(t,n)=>{try{t(await Dt.requestAPI("/admin/lb/"+e))}catch(rn){n(rn)}}),restartServerAdmin:()=>new Promise(async(e,t)=>{try{e(await Dt.requestAPI("/admin/restartServer"))}catch(rn){t(rn)}}),updateAdminPrice:(e,t,n)=>new Promise(async(r,s)=>{r(await Dt.requestAPI("/admin/updatePrice",{sku:e,price:t,reset:!!n}))}),acceptPriceReviewAdmin:(e,t=!1)=>new Promise(async(n,r)=>{try{n(await Dt.requestAPI("/admin/acceptManualPrice",{sku:e,accept:t}))}catch(rn){r(rn)}}),resendOfferAdmin:e=>new Promise(async(t,n)=>{t(await Dt.requestAPI("/admin/resendOffer",{offer:e}))})};const $t=qt();var zt={emojisPrefix:"https://emoji.gg/assets/emoji",getEmojis:async()=>await Dt.requestAPI("/emojis/all",{},{method:"GET",cache:!0,cacheLife:1440}),sendMessage:(e,t)=>{$t.construct("chat:sendMessage",{room:t,content:e})},deleteMessage:e=>{$t.construct("chat:deleteMessage",e)},joinRoom:e=>{u.set("lastJoinedRoom",e),$t.construct("chat:joinRoom",e)}};qt();var Yt={loadInventory:(e=730)=>new Promise(async(t,n)=>{const r=await Dt.requestAPI("/steam_bots/items/"+e);r.inv?t(r.inv):n(r.msg)})};const Kt=qt();var Ht={placeBet:(e,t)=>{Kt.construct("roulette:placeBet",{color:t,amount:e})},join:()=>{Kt.construct("roulette:joinSession",{})},leave:()=>{Kt.construct("roulette:leave",{})}};const Jt=qt();var Gt={join:()=>{Jt.construct("tf2_jackpot:joinSession",{})},leave:()=>{Jt.construct("tf2_jackpot:leave",{})},requestValue:()=>{Jt.construct("tf2_jackpot:getValue",{})},getPastGames:()=>new Promise(async(e,t)=>{e(await Dt.requestAPI("/tf2_jackpot/pastGames"))}),getLeaderboard:()=>new Promise(async(e,t)=>{e(await Dt.requestAPI("/leaderboard"))})};const Xt=qt();var Zt={join:()=>{Xt.construct("tf2_coinflip:joinSession",{})},leave:()=>{Xt.construct("tf2_coinflip:leave",{})},requestValue:()=>{Xt.construct("tf2_coinflip:getValue",{})},cancelGame:e=>{Xt.construct("tf2_coinflip:cancelGame",{id:e})},getActiveGames:()=>new Promise(async(e,t)=>{e(await Dt.requestAPI("/tf2_coinflip/active"))}),getPastGames:()=>new Promise(async(e,t)=>{e(await Dt.requestAPI("/tf2_coinflip/past"))}),getAllGames:()=>new Promise(async(e,t)=>{e(await Dt.requestAPI("/tf2_coinflip/all"))}),getGame:e=>new Promise(async(t,n)=>{try{t(await Dt.requestAPI("/tf2_coinflip/game/"+e))}catch(rn){n(rn)}})};const Qt=qt();var en={join:()=>{Qt.construct("tf2_mines:joinSession",{})},leave:()=>{Qt.construct("tf2_mines:leave",{})},requestValue:()=>{Qt.construct("tf2_mines:getValue",{})},cancelGame:e=>{Qt.construct("tf2_mines:cancelGame",{id:e})},pickMine:(e,t)=>{Qt.construct("tf2_mines:pickMine",{gameId:e,mine:t})},getActiveGames:()=>new Promise(async(e,t)=>{e(await Dt.requestAPI("/tf2_mines/active"))}),getPastGames:()=>new Promise(async(e,t)=>{e(await Dt.requestAPI("/tf2_mines/past"))}),getAllGames:()=>new Promise(async(e,t)=>{e(await Dt.requestAPI("/tf2_mines/all"))}),getGame:e=>new Promise(async(t,n)=>{try{t(await Dt.requestAPI("/tf2_mines/game/"+e))}catch(rn){n(rn)}})};const tn=(window.insolve.io||(window.insolve.io=new Lt),window.insolve.io);console.log("Powered by Insolve\u2122 White Label Solution",""),window.onload=async()=>{const e=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)});e._ins_login?(console.log("_ins_login",e._ins_login),window.opener?(console.log("window opener"),window.opener.postMessage({action:"_ins_login_pm",token:e._ins_login}),window.open("","_self").close()):(console.log("no window opener"),Wt.signInWithSavedInfo(e._ins_login,()=>{console.log("callback"),window.location="/"}))):Wt.signInWithSavedInfo()},window.addEventListener("message",async e=>{"object"==typeof e.data&&e.data&&"_ins_login_pm"==e.data.action&&Wt.signInWithSavedInfo(e.data.token)},!1),window.insolve={user:Wt,chat:zt,helpers:Dt,events:o,store:u,steam:Yt,roulette:Ht,tf2_jackpot:Gt,tf2_coinflip:Zt,tf2_mines:en,io:tn,STATIC:{RANKS:["User","Youtuber","Moderator","Admin","Owner"]},config:Mt}}();